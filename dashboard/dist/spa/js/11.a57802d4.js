(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"6f03":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showTitle?n("h4",[e._v("\n    Showcase of component\n    "),n("code",[e._v(e._s(e.component))])]):e._e(),n(e.component,{tag:"component"})],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",[e._v("Loading user programs ...")]):n("div",["webtj"===e.codeFormat?n("ul",e._l(e.coding_questions,(function(t,r){return n("li",{key:r},[e._v("\n        "+e._s(t.topic)+"/"+e._s(t.name)+"\n        "),n("editor",{attrs:{initialCode:"salut"+e.getLastCodeFromQuestion(t),width:"100%",height:"500",autorun:!1}})],1)})),0):"rst"===e.codeFormat?n("div",[n("monaco-editor",{attrs:{value:e.toRst(e.coding_questions),width:"100%",height:"500",language:"rst"}})],1):e._e()])])},a=[],i=(n("4917"),n("14b9"),n("a481"),n("28a5"),n("d624")),u=n.n(i),c=n("9530"),d=n.n(c),l=n("77be"),m=n("b61c"),h=n.n(m);function p(){var e=u()(['\n  query getAllActiveCodesOfStudentByChapter(\n    $username: String!\n    $chapter: String\n    $subchapter: String\n    $coursename: String\n    $basecourse: String\n  ) {\n    coding_questions(\n      where: {\n        #name: { _similar: "%activity%|%exercise%" }\n\n        chapter: { _like: $chapter }\n        subchapter: { _like: $subchapter }\n        question_type: { _eq: "activecode" }\n        base_course: { _like: $basecourse }\n      }\n      order_by: { id: asc }\n    ) {\n      id\n      topic\n      name\n      chapter\n      subchapter\n      base_course\n      lastCode: codes(\n        where: {\n          _and: {\n            user: { username: { _eq: $username } }\n            course: { course_name: { _like: $coursename } }\n          }\n        }\n        order_by: { timestamp: desc }\n        limit: 1\n      ) {\n        id\n        timestamp\n        acid\n        code\n        course {\n          course_name\n        }\n      }\n    }\n  }\n']);return p=function(){return e},e}var v=d()(p()),_={components:{Editor:l["a"],MonacoEditor:h.a},methods:{getLastCodeFromQuestion:function(e){return e.lastCode[0]&&e.lastCode[0].code||"## No code available"},toRst:function(e){var t="",n="";return n+="Programme ``{acid}``\n",n+="{underline}\n",n+="\n",n+="Lien vers la donn√©e : https://courses.21-learning.com/runestone/books/published/doi/{topic}.html#{acid}",n+="\n\n",n+="..  activecode:: {acid}-end-solution\n",n+="    :language: webtj\n",n+="\n",n+="{code}",n+="\n\n",t=e.map((function(e){var t=e.topic,r=e.lastCode&&e.lastCode[0]||{acid:"unknown",code:"not found"},s=r.acid,o=r.code,a=function(e){return e.split("\n").map((function(e){return"    "+e})).join("\n")};return n.replace(/{acid}/g,s).replace("{code}",a(o)).replace("{topic}",t).replace("{underline}","-".repeat(("Programme ````"+s).length))})).join("\n"),t}},data:function(){return{coding_questions:[],username:this.$route.query.username||"%",chapter:this.$route.query.chapter||"%",subchapter:this.$route.query.subchapter||"%",loading:!0,autoRunCodes:"off"!==this.$route.query.autorun,codeFormat:this.$route.query.fmt||"webtj",coursename:this.$route.params.courseName,basecourse:void 0}},mounted:function(){this.basecourse=this.coursename&&this.coursename.match(/.*doi.*/)?"doi":"concepts-programmation"},apollo:{getAllActiveCodesOfStudentByChapter:{query:v,variables:function(){return{username:this.username,chapter:this.chapter,subchapter:this.subchapter,basecourse:this.basecourse,coursename:this.coursename}},result:function(e){var t=e.data,n=e.loading;this.loading=n,this.coding_questions=t.coding_questions}}}},f=_,g=n("2877"),b=Object(g["a"])(f,o,a,!1,null,null,null),$=b.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showTitle?n("h4",[e._v("List of Events")]):e._e(),e._l(e.events,(function(t){return n("div",{key:t.id},["off"!==e.$route.query.badges?n("div",[n("q-badge",{staticClass:"q-pa-xs q-mr-xs",attrs:{color:"blue"}},[e._v(e._s(t.sid))]),n("q-badge",{staticClass:"q-pa-xs q-mr-xs",attrs:{color:"green"}},[e._v(e._s(t.div_id))])],1):e._e(),n("p",[e._v(e._s(t.act))])])}))],2)},w=[];function y(){var e=u()(["\n        query getAllShortAnswersByDivid(\n          $divId: String!\n          $coursename: String\n          $username: String\n          $event: String\n        ) {\n          events: useinfo(\n            where: {\n              _and: {\n                event: { _like: $event }\n                sid: { _like: $username }\n                course_id: { _like: $coursename }\n                div_id: { _like: $divId }\n              }\n            } #, order_by: {sid: asc, timestamp: desc}, distinct_on: [sid]\n          ) {\n            event\n            act\n            timestamp\n            sid\n            div_id\n          }\n        }\n      "]);return y=function(){return e},e}var S={data:function(){return{events:[],loading:!0}},computed:{showTitle:function(){return"off"!==this.$route.query.title}},apollo:{listEvents:{query:d()(y()),variables:function(){return{divId:this.$route.query.divId||"%",username:this.$route.query.username||"%",event:this.$route.query.event||"%",coursename:this.$route.params.courseName||"%"}},result:function(e){var t=e.data,n=e.loading;this.loading=n,this.events=t.events}}}},C=S,k=n("eebe"),x=n.n(k),j=n("58a8"),E=Object(g["a"])(C,q,w,!1,null,null,null),F=E.exports;x()(E,"components",{QBadge:j["a"]});var L=n("4cf9"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h5",[e._v("Chapters")]),n("pre",[e._v("    "+e._s(e.state.dataFilters.chapters)+"\n  ")]),n("h5",[e._v("Students")]),n("pre",[e._v("    "+e._s(e.state.dataFilters.students)+"\n  ")]),n("h5",[e._v("Selected Students getter")]),n("pre",[e._v("    "+e._s(e.$store.getters["dataFilters/selectedStudents"])+"\n  ")]),n("h5",[e._v("Global State")]),n("pre",[e._v("    "+e._s(e.state)+"\n  ")])])},O=[],Q={data:function(){return{}},computed:{state:function(){return this.$store.state}}},A=Q,T=Object(g["a"])(A,I,O,!1,null,null,null),B=T.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-list",e._l(e.components,(function(e){return n("q-item",{key:e},[n("q-item-section",[n("q-btn",{attrs:{label:e,color:"primary",to:{name:"ShowCaseComponent",params:{component:e}}}})],1)],1)})),1)],1)},P=[],R={data:function(){return{components:["ShowState","ListUserCodes"]}}},J=R,U=n("1c1c"),D=n("66e5"),G=n("4074"),M=n("9c40"),z=Object(g["a"])(J,N,P,!1,null,null,null),H=z.exports;x()(z,"components",{QList:U["a"],QItem:D["a"],QItemSection:G["a"],QBtn:M["a"]});var K={name:"Showcase",components:{ListUserCodes:$,ListEvents:F,StudentProgress:L["default"],ShowState:B,Index:H},data:function(){return{component:this.$route.params.component,showTitleFlag:this.$route.query.title||"on"}},computed:{showTitle:function(){return!("off"===this.showTitleFlag)}}},V=K,W=Object(g["a"])(V,r,s,!1,null,null,null);t["default"]=W.exports}}]);