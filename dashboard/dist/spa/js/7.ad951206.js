(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"903a":function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.isLoading?t("div",[e._v("Loading data ...")]):t("div",[t("h4",[e._v("Code History of "+e._s(e.user&&e.user.firstName)+" "+e._s(e.user&&e.user.lastName))]),t("div",[t("q-badge",{attrs:{color:"secondary"}},[e._v("Editor height: "+e._s(e.editorHeight))]),t("q-slider",{attrs:{min:200,max:1200},model:{value:e.editorHeight,callback:function(n){e.editorHeight=n},expression:"editorHeight"}})],1),e._l(e.user&&e.user.codes_aggregate.codes||["loading history"],(function(n){return t("div",{key:n.timestamp,staticClass:"q-my-md"},[e._v("\n      "+e._s(e.formatDate(n.timestamp))+"\n      "),t("div",[t("tj-editor",{attrs:{"initial-code":n.code,width:"100%",height:e.editorHeightPx,autorun:e.autoRunCodes}})],1)])}))],2)])},r=[],s=t("d624"),i=t.n(s),o=t("9530"),u=t.n(o),d=t("77be"),c=t("bd4c");function m(){var e=i()(["\n        query codeHistoryByUsername(\n          $username: String!\n          $acid: String!\n          $coursename: String\n        ) {\n          user: auth_user(where: { username: { _eq: $username } }) {\n            username\n            firstName: first_name\n            lastName: last_name\n            codes_aggregate(\n              where: {\n                _and: { acid: { _like: $acid } }\n                course: { course_name: { _like: $coursename } }\n              }\n              order_by: { timestamp: desc }\n            ) {\n              aggregate {\n                count\n                max {\n                  code\n                }\n                min {\n                  code\n                }\n              }\n              codes: nodes {\n                acid\n                timestamp\n                code\n                course {\n                  course_name\n                }\n              }\n            }\n          }\n        }\n      "]);return m=function(){return e},e}var l={components:{"tj-editor":d["a"]},data:function(){return{coursename:this.$route.params.courseName,username:this.$route.params.username,acid:this.$route.params.acid,codes:[],editorHeight:500,autoRunCodes:"off"!==this.$route.query.autorun,isLoading:!0}},computed:{editorHeightPx:function(){return parseInt(this.editorHeight)+"px"}},methods:{formatDate:function(e){return c["a"].formatDate(e,"dddd Do MMMM, HH:mm:ss")}},apollo:{getHistory:{query:u()(m()),pollInterval:5e3,variables:function(){return{coursename:"%".concat(this.coursename,"%"),username:this.username,acid:this.acid}},result:function(e){var n=e.data,t=e.loading;this.user=n.user[0],this.isLoading=t}}}},g=l,h=t("2877"),_=t("eebe"),f=t.n(_),p=t("58a8"),v=t("c1d0"),H=Object(h["a"])(g,a,r,!1,null,null,null);n["default"]=H.exports;f()(H,"components",{QBadge:p["a"],QSlider:v["a"]})}}]);